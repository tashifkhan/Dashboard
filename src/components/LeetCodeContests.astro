---
import { leetCodeData } from "../data/leetcode";
import { Trophy, Calendar, Users, TrendingUp } from "lucide-react";

const { contests } = leetCodeData;
---

<div
	class="bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl p-6 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg"
>
	<h3
		class="text-lg font-semibold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent mb-4"
	>
		Recent Contest Performance
	</h3>

	{
		contests.length > 0 ? (
			<div class="space-y-4">
				{contests.slice(0, 5).map((contest) => (
					<div class="p-4 bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur rounded-xl border border-gray-200/50 dark:border-gray-700/50 hover:bg-gray-100/80 dark:hover:bg-gray-700/80 transition-all duration-300">
						<div class="flex-1">
							<div class="flex items-center space-x-3 mb-3">
								<div class="p-1.5 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg">
									<Trophy className="w-4 h-4 text-yellow-600 dark:text-yellow-400" />
								</div>
								<h4 class="font-medium text-gray-900 dark:text-white">
									{contest.title}
								</h4>
							</div>
							<div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
								<div class="flex items-center space-x-2">
									<div class="p-1 bg-gray-200 dark:bg-gray-700 rounded">
										<Calendar className="w-3 h-3 text-gray-500 dark:text-gray-400" />
									</div>
									<span class="text-gray-600 dark:text-gray-300">
										{new Date(contest.startTime * 1000).toLocaleDateString()}
									</span>
								</div>
								<div class="flex items-center space-x-2">
									<div class="p-1 bg-gray-200 dark:bg-gray-700 rounded">
										<Users className="w-3 h-3 text-gray-500 dark:text-gray-400" />
									</div>
									<span class="text-gray-600 dark:text-gray-300">
										Rank #{contest.rank.toLocaleString()}
									</span>
								</div>
								<div class="flex items-center space-x-2">
									<div class="p-1 bg-gray-200 dark:bg-gray-700 rounded">
										<TrendingUp className="w-3 h-3 text-gray-500 dark:text-gray-400" />
									</div>
									<span class="text-gray-600 dark:text-gray-300">
										{contest.ratingChange > 0 ? "+" : ""}
										{contest.ratingChange}
									</span>
								</div>
								<div class="text-gray-600 dark:text-gray-300">
									{contest.problemsSolved}/{contest.participants} solved
								</div>
							</div>
						</div>
						<div class="text-right mt-3">
							<div class="text-xl font-bold bg-gradient-to-r from-orange-600 to-orange-700 dark:from-orange-400 dark:to-orange-500 bg-clip-text text-transparent">
								{contest.score}
							</div>
							<div class="text-sm text-gray-500 dark:text-gray-400">points</div>
						</div>
					</div>
				))}
			</div>
		) : (
			<div class="text-center py-8">
				<div class="p-3 bg-gray-100 dark:bg-gray-800 rounded-xl w-fit mx-auto mb-4">
					<Trophy className="w-8 h-8 text-gray-400 mx-auto" />
				</div>
				<p class="text-gray-500 dark:text-gray-400">
					No contest data available
				</p>
			</div>
		)
	}
</div>
