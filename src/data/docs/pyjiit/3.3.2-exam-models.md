# Exam Models

Relevant source files

* [docs/apiref.rst](https://github.com/codelif/pyjiit/blob/0fe02955/docs/apiref.rst)
* [pyjiit/exam.py](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py)
* [pyjiit/registration.py](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/registration.py)
* [pyjiit/wrapper.py](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py)

## Purpose and Scope

This document describes the data models used for representing exam-related information in pyjiit. The primary model is the `ExamEvent` class, which encapsulates information about examination events (such as mid-semester exams, end-semester exams, etc.) for a given semester.

For information about attendance-related models, see [Attendance Models](/codelif/pyjiit/3.3.1-attendance-models). For registration and subject enrollment models, see [Registration Models](/codelif/pyjiit/3.3.3-registration-models). For overall API usage patterns, see [Webportal Class](/codelif/pyjiit/3.1-webportal-class).

---

## ExamEvent Class

The `ExamEvent` class is a dataclass that represents a single examination event. It is defined in [pyjiit/exam.py4-20](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L4-L20) and contains metadata about an exam period including its code, description, and associated identifiers.

### Fields

| Field | Type | Description |
| --- | --- | --- |
| `exam_event_code` | `str` | Unique code identifier for the exam event (e.g., "MID", "END") |
| `event_from` | `int` | Numeric indicator of the event origin or sequence |
| `exam_event_desc` | `str` | Human-readable description of the exam event (e.g., "MID SEMESTER") |
| `registration_id` | `str` | The registration ID linking this exam event to a specific semester enrollment |
| `exam_event_id` | `str` | Unique identifier for this exam event instance |

### Instantiation

The `ExamEvent` class provides a static factory method `from_json(resp: dict)` [pyjiit/exam.py13-20](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L13-L20) that deserializes API response data into an `ExamEvent` object. This method maps the following JSON keys:

* `exameventcode` → `exam_event_code`
* `eventfrom` → `event_from`
* `exameventdesc` → `exam_event_desc`
* `registrationid` → `registration_id`
* `exameventid` → `exam_event_id`

**Sources:** [pyjiit/exam.py1-23](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L1-L23)

---

## Exam Data Retrieval Flow

The exam system in pyjiit follows a three-step hierarchical retrieval pattern:

![Architecture Diagram](images/3.3.2-exam-models_diagram_1.png)
```

**Sources:** [pyjiit/wrapper.py273-328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L273-L328)

---

## API Methods

### get\_semesters\_for\_exam\_events()

Located at [pyjiit/wrapper.py273-289](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L273-L289) this method retrieves all semesters for which exam event data is available for the authenticated student.

**Endpoint:** `/studentcommonsontroller/getsemestercode-withstudentexamevents`

**Payload Structure:**

```
{
    "clientid": session.clientid,
    "instituteid": session.instituteid,
    "memberid": session.memberid
}
```

**Returns:** `List[Semester]` - List of semester objects that have associated exam events

**Raises:** `APIError` for generic API failures

**Sources:** [pyjiit/wrapper.py273-289](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L273-L289)

---

### get\_exam\_events(semester: Semester)

Located at [pyjiit/wrapper.py292-308](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L292-L308) this method retrieves all exam events for a specific semester.

**Endpoint:** `/studentcommonsontroller/getstudentexamevents`

**Payload Structure:**

```
{
    "instituteid": session.instituteid,
    "registationid": semester.registration_id  # Note: API typo "registationid"
}
```

**Parameters:**

* `semester` - A `Semester` object obtained from `get_semesters_for_exam_events()` or similar methods

**Returns:** `List[ExamEvent]` - List of exam events for the specified semester

**Raises:** `APIError` for generic API failures

**Implementation Details:**
The method deserializes the API response by iterating over `resp["response"]["eventcode"]["examevent"]` and calling `ExamEvent.from_json()` for each item [pyjiit/wrapper.py308](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L308-L308)

**Sources:** [pyjiit/wrapper.py292-308](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L292-L308)

---

### get\_exam\_schedule(exam\_event: ExamEvent)

Located at [pyjiit/wrapper.py311-328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L311-L328) this method retrieves the detailed examination schedule for a specific exam event.

**Endpoint:** `/studentsttattview/getstudent-examschedule`

**Payload Structure:**

```
{
    "instituteid": session.instituteid,
    "registrationid": exam_event.registration_id,
    "exameventid": exam_event.exam_event_id
}
```

**Parameters:**

* `exam_event` - An `ExamEvent` object obtained from `get_exam_events()`

**Returns:** `dict` - Raw dictionary containing exam schedule data including dates, times, subjects, and venues

**Raises:** `APIError` for generic API failures

**Note:** The method returns the raw `resp["response"]` dictionary [pyjiit/wrapper.py328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L328-L328) without additional parsing, as the schedule structure can vary.

**Sources:** [pyjiit/wrapper.py311-328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L311-L328)

---

## Data Model Relationships

The following diagram illustrates how `ExamEvent` relates to other data models and API methods:

```
![Architecture Diagram](images/3.3.2-exam-models_diagram_2.png)
```

**Sources:** [pyjiit/wrapper.py273-328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L273-L328) [pyjiit/exam.py1-23](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L1-L23)

---

## JSON Deserialization

The `ExamEvent.from_json()` method performs field mapping from the JIIT API's JSON response format:

```
![Architecture Diagram](images/3.3.2-exam-models_diagram_3.png)
```

The API response structure for `get_exam_events()` follows this hierarchy:

```
response
  └── eventcode
      └── examevent (array)
          ├── exameventcode: str
          ├── eventfrom: int
          ├── exameventdesc: str
          ├── registrationid: str
          └── exameventid: str
```

**Sources:** [pyjiit/exam.py13-20](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L13-L20) [pyjiit/wrapper.py308](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L308-L308)

---

## Usage Example Pattern

The typical usage pattern for retrieving exam information follows this sequence:

```
![Architecture Diagram](images/3.3.2-exam-models_diagram_4.png)

Each step in this flow requires authentication via the `@authenticated` decorator [pyjiit/wrapper.py272](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L272-L272) [pyjiit/wrapper.py291](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L291-L291) [pyjiit/wrapper.py310](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L310-L310) which ensures a valid session exists before making API calls.

**Sources:** [pyjiit/wrapper.py273-328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L273-L328)

---

## Implementation Notes

### Authentication Requirement

All exam-related methods require authentication and are decorated with `@authenticated` [pyjiit/wrapper.py272](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L272-L272) [pyjiit/wrapper.py291](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L291-L291) [pyjiit/wrapper.py310](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L310-L310) Calling these methods without an active session will raise `NotLoggedIn` exception. See [Exception Handling](/codelif/pyjiit/3.4-exception-handling) for details on exception types.

### Payload Encryption

Methods that retrieve exam events and schedules use `serialize_payload()` [pyjiit/wrapper.py285](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L285-L285) [pyjiit/wrapper.py304](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L304-L304) [pyjiit/wrapper.py324](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L324-L324) to encrypt request payloads before sending to the API. See [Encryption System](/codelif/pyjiit/4.1-encryption-system) for details on the encryption mechanism.

### Data Immutability

`ExamEvent` is implemented as a dataclass [pyjiit/exam.py4](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L4-L4) making instances immutable by default. This ensures exam event data cannot be accidentally modified after retrieval from the API.

**Sources:** [pyjiit/wrapper.py273-328](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/wrapper.py#L273-L328) [pyjiit/exam.py1-23](https://github.com/codelif/pyjiit/blob/0fe02955/pyjiit/exam.py#L1-L23)